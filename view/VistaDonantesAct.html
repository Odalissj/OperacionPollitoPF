<!doctype html>
<html lang="es">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Pollitos ‚Ä¢ Actualizar Donante</title>

    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css"
    />
    <link rel="stylesheet" href="../css/index.css" />
    <link rel="stylesheet" href="../css/navbar.css" />
  </head>

  <body>
    <!-- NAVBAR unificada -->
    <header data-include="/view/partials/navbar.html"></header>

    <main class="container mb-5">

      <!-- Encabezado -->
      <div class="d-flex align-items-center gap-3 my-4">
        <div class="step-badge">1</div>
        <div>
          <h3 class="mb-0">Actualizar informaci√≥n del Donante</h3>
        </div>
      </div>

      <!-- Bloque de b√∫squeda -->
      <div class="card mb-4 shadow-sm">
        <div class="card-body">

          <form id="formBusquedaDonante" class="row g-3 align-items-end" novalidate>
            <div class="col-md-3">
              <label class="form-label">ID Donante</label>
              <input
                type="number"
                id="buscaIdDonante"
                class="form-control"
                placeholder="Ej. 5"
                min="1"
              />
            </div>

            <div class="col-md-5">
              <label class="form-label">Nombre / Apellido contiene</label>
              <input
                type="text"
                id="buscaNombreDonante"
                class="form-control"
                placeholder="Ej. Ana, L√≥pez"
              />
            </div>

            <div class="col-md-2">
              <button
                type="submit"
                class="btn btn-azul w-100"
                id="btnBuscarDonante"
              >
                <i class="bi bi-search"></i> Buscar
              </button>
            </div>

            <div class="col-md-2">
              <button
                type="button"
                class="btn btn-outline-secondary w-100"
                id="btnLimpiarBusqueda"
              >
                <i class="bi bi-x-circle"></i> Limpiar
              </button>
            </div>
          </form>

          <!-- Aqu√≠ puedes listar resultados de b√∫squeda si quieres mostrar varios -->
          <div id="resultadoBusquedaDonante" class="mt-3 small text-muted">
            <!-- Mensajes / resultados por JS -->
          </div>
        </div>
      </div>

      <!-- Formulario de actualizaci√≥n -->
      <div class="card shadow-sm">
        <div class="card-body">

<form id="formDonanteActualizar" class="row g-3" novalidate>
  <!-- ID Donante (oculto, pero necesario para el PUT) -->
  <input type="hidden" name="idDonador" id="idDonador" />

  <!-- Nombres -->
  <div class="col-md-4">
    <label class="form-label req">Primer nombre</label>
    <input
      name="nombre1Donante"
      id="nombre1Donante"
      maxlength="15"
      class="form-control"
      required
    />
  </div>
  <div class="col-md-4">
    <label class="form-label">Segundo nombre</label>
    <input
      name="nombre2Donante"
      id="nombre2Donante"
      maxlength="15"
      class="form-control"
    />
  </div>
  <div class="col-md-4">
    <label class="form-label">Tercer nombre</label>
    <input
      name="nombre3Donante"
      id="nombre3Donante"
      maxlength="15"
      class="form-control"
    />
  </div>

  <!-- Apellidos -->
  <div class="col-md-4">
    <label class="form-label req">Primer apellido</label>
    <input
      name="apellido1Donante"
      id="apellido1Donante"
      maxlength="15"
      class="form-control"
      required
    />
  </div>
  <div class="col-md-4">
    <label class="form-label">Segundo apellido</label>
    <input
      name="apellido2Donante"
      id="apellido2Donante"
      maxlength="15"
      class="form-control"
    />
  </div>
  <div class="col-md-4">
    <label class="form-label">Tercer apellido</label>
    <input
      name="apellido3Donante"
      id="apellido3Donante"
      maxlength="15"
      class="form-control"
    />
  </div>

  <!-- Ubicaci√≥n -->
  <div class="col-md-4">
    <label class="form-label req">Pa√≠s</label>
    <select
      name="idPaisDonante"
      id="idPaisDonante"
      class="form-select"
      required
    ></select>
  </div>
  <div class="col-md-4">
    <label class="form-label req">Departamento</label>
    <select
      name="idDepartamentoDona"
      id="idDepartamentoDona"
      class="form-select"
      required
    ></select>
  </div>
  <div class="col-md-4">
    <label class="form-label req">Municipio</label>
    <select
      name="idMunicipioDona"
      id="idMunicipioDona"
      class="form-select"
      required
    ></select>
  </div>

  <!-- Contacto -->
  <div class="col-md-4">
    <label class="form-label req">Tel√©fono</label>
    <input
      name="telefonoDonante"
      id="telefonoDonante"
      maxlength="15"
      class="form-control"
      required
    />
  </div>

  <!-- üîí Campos de auditor√≠a y usuarios: ocultos, los maneja JS -->
  <input type="hidden" id="idUsuarioDonante"     name="idUsuarioDonante" />
  <input type="hidden" id="idUsuarioIngreso"     name="idUsuarioIngreso" />
  <input type="hidden" id="fechaIngresoDona"     name="fechaIngresoDona" />
  <input type="hidden" id="horaIngresoDona"      name="horaIngresoDona" />
  <input type="hidden" id="fechaActualizacion"   name="fechaActualizacion" />
  <input type="hidden" id="horaActualizacion"    name="horaActualizacion" />
  <input type="hidden" id="idUsuarioActualiza"   name="idUsuarioActualiza" />

  <!-- Botones -->
  <div class="col-12 d-flex justify-content-end mt-4 gap-2">
    <button
      type="button"
      class="btn btn-outline-secondary"
      id="btnLimpiarFormDonante"
    >
      Limpiar
    </button>
    <button
      type="submit"
      class="btn btn-naranja"
      id="btnGuardarDonante"
    >
      <i class="bi bi-save"></i> Guardar cambios
    </button>
  </div>
</form>

        </div>
      </div>
    </main>

    <div data-include="/view/partials/footer.html"></div>

    <script src="/js/include.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <!-- JS donde har√°s el fetch a /api/donantes -->
    <script src="../js/auth.js"></script>
    <script src="../js/ActualizaDonantes.js"></script>
    <script src="../js/CargaUsuarios.js"></script>

  </body>
</html>
